{% extends "base.html" %}
{% load static %}

{% block content %}

<style>
  /* Cards mêmes hauteurs et mise en forme */
  .card {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  .card-img-top {
    height: 180px;
    object-fit: cover;
  }
  h2 {
  color: #b22222;              
  font-weight: 900;            
  text-transform: uppercase;   
  letter-spacing: 2px;        
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3); 
  margin-bottom: 1.5rem;      
  font-family: 'Georgia', serif; 
}

  .card-body {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }
  .card-title {
    color: #b22222; /* rouge brique */
    font-weight: 700;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    margin-bottom: 0.75rem;
  }
  .card-text {
    flex-grow: 1;
    font-size: 0.95rem;
    color: #444;
  }
  .btn-primary {
    align-self: flex-start;
    margin-top: auto;
  }
  body {
  margin: 0;
}

    /* Conteneur du carrousel */
    .carousel-container {
        position: relative;
        height: 90vh;
        overflow: hidden;
    }

    /* Style des images */
    .carousel-container img {
        height: 100%;
        width: 100%;
        object-fit: cover;
    }

    /* Bloc texte superposé */
    .carousel-overlay-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        text-align: center;
        color: white;
        background-color: rgba(0, 0, 0, 0.4);
        padding: 30px 20px;
        border-radius: 20px;
        width: 80%;
        font-family: 'Poppins', sans-serif;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        transition: all 0.3s ease-in-out;
    }
.carousel-overlay-text h1 {
        font-family: 'Playfair Display', serif;
        font-size: 3.2rem;
        margin-bottom: 15px;
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
    }
    .card-img-top {
    height: 200px;
    object-fit: cover;
    object-position: center;
    width: 100%;
    border-bottom: 1px solid #ddd;
}


    .carousel-overlay-text p {
        font-size: 1.3rem;
        font-weight: 400;
        text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
    }
 .carousel-overlay-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  text-align: center;
  color: rgba(253, 254, 255, 0.95);
  background-color: rgba(0, 0, 0, 0.5);
  padding: 30px 20px;
  border-radius: 15px;
  width: 90%;
  max-width: 800px;
  font-family: 'Poppins', sans-serif;
}

</style>


<div id="carouselExample" class="carousel slide carousel-container mb-4" data-bs-ride="carousel">

    
    <div class="carousel-overlay-text">
        <h1>Bienvenue chez Warkha-traiteur</h1>
        </h1>
        <p>Découvrez nos plats savoureux et vivez une expérience culinaire inoubliable !</p>
    </div>

   
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static 'accueil/images/img23.jpg' %}" alt="Plat 1">
        </div>
        <div class="carousel-item">
            <img src="{% static 'accueil/images/img1.jpg' %}" alt="Plat 2">
        </div>
        <div class="carousel-item">
            <img src="{% static 'accueil/images/img24.jpg' %}" alt="Plat 3">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>


<div class="container mt-5">
    <h2 class="text-center">Nos services</h2>
    <p class="text-center">Réservez en ligne, explorez notre menu et savourez le meilleur de la cuisine locale !</p>
</div>
<section id="nos-services" class="py-5 bg-light">
  <div class="container">
    <div class="row">

      <div class="col-md-4 mb-4">
        <div class="card service-card h-100">
          <img src="{% static 'accueil/images/img27.jpg' %}" class="card-img-top" alt="Réservation">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="card-title">Réservation</h5>
              <p class="card-text">Réservez une table en ligne et profitez d’un moment agréable dans notre restaurant.</p>
            </div>
            <a href="{% url 'reservation:reserver' %}" class="btn btn-primary mt-3">Réserver maintenant</a> </div>
        </div>
      </div>

      
      <div class="col-md-4 mb-4">
        <div class="card service-card h-100">
          <img src="{% static 'accueil/images/img26.jpg' %}" class="card-img-top" alt="Livraison">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="card-title">Livraison</h5>
              <p class="card-text">Commandez vos plats préférés et faites-les livrer rapidement chez vous ou au bureau.</p>
            </div>
            <a href="{% url 'livraison:ajouter' %}" class="btn btn-success mt-3">Voir la carte</a>
          </div>
        </div>
      </div>

      
      <div class="col-md-4 mb-4">
        <div class="card service-card h-100">
          <img src="{% static 'accueil/images/img24.jpg' %}" class="card-img-top" alt="Traiteur">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="card-title">Spécialités Traiteur</h5>
              <p class="card-text">Découvrez nos formules traiteur pour vos événements spéciaux, mariages, séminaires, etc.</p>
            </div>
            <a href="{% url 'gestion_menus_plats:plats' %}" class="btn btn-warning text-white mt-3">Voir les spécialités</a>
</div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- À propos -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">À propos de notre établissement</h2>
        <p class="text-center">Notre restaurant vous propose des plats soigneusement préparés par notre chef, alliant passion, fraîcheur et créativité. Que ce soit pour un dîner romantique, une sortie en famille ou un repas professionnel, nous vous accueillons dans un cadre chaleureux.</p>
    </div>
</section>

<!-- Entrées -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-4">Entrées</h2>
        <div class="row text-center">
            {% for plat in plats %}
                {% if plat.is_entree %}
                    <div class="col-md-3 mb-4 d-flex">
                        <div class="card shadow-sm w-100">
                            <img src="{% static 'images/img' %}{{ forloop.counter }}.jpg" class="card-img-top" alt="Salade César">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{plat.nom}}</h5>
                                <p class="card-text">{{plat.description}}</p>
                                {% if user and user.is_admin %}
                                    <a href="{% url 'gestion_menus_plats:gerer_plat'  plat.nom %}" class="btn btn-primary mt-3">Gerer Plat</a> 
                                {% else %}
                                    <a href="{% url 'accueil:ajouter_plat'  plat.nom %}" class="btn btn-primary mt-3">Ajouter a la commande</a> 
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            
        </div>
    </div>
</section>

<!-- Plats résistants -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">Plats résistants</h2>
        <div class="row text-center">
            {% for plat in plats %}
                {% if plat.is_plat_resistant %}
                    <div class="col-md-3 mb-4 d-flex">
                        <div class="card shadow-sm w-100">
                            <img src="{% static 'images/img' %}{{ forloop.counter }}.jpg" class="card-img-top" alt="Filet de bœuf au foie gras">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{plat.nom}}</h5>
                                <p class="card-text">{{plat.description}}</p>
                                <a href="{% url 'accueil:ajouter_plat' plat.nom %}" class="btn btn-primary">Ajouter a la commande</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
           
        </div>
    </div>
</section>

<!-- Desserts -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-4">Desserts</h2>
        <div class="row text-center">
            {% for plat in plats %}
                {% if plat.is_dessert %}
                    <div class="col-md-3 mb-4 d-flex">
                        <div class="card shadow-sm w-100">
                            <img src="{% static 'images/img' %}{{ forloop.counter }}.jpg" class="card-img-top" alt="Parfait au chocolat noir">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{plat.nom}}</h5>
                                <p class="card-text">{{plat.categorie}}</p>
                                <a href="{% url 'accueil:ajouter_plat' plat.nom %}" class="btn btn-primary">Ajouter a la commande</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            
        </div>
    </div>
</section>

<!-- Galerie d’ambiance -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Ambiance & Saveurs</h2>
        <div class="row g-3">
            {% for img in ambiance_images %}
            <div class="col-md-3">
                <img src="{% static 'images/' %}{{ img }}" class="img-fluid rounded shadow-sm" alt="Ambiance {{ forloop.counter }}">
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Réservation & Commande -->
<section class="py-5 text-center bg-dark text-white">
    <div class="container">
        <h2 class="mb-4">Réservez une table ou commandez à emporter</h2>
        <div class="d-flex justify-content-center gap-3">
            <a href="{% url 'reservation:reserver' %}" class="btn btn-warning btn-lg">Réserver</a>
            <a href="{% url 'commandes:passer_commande' %}" class="btn btn-outline-light btn-lg">Commander</a>
        </div>
    </div>
</section>

<!-- Contact -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">Contactez-nous</h2>
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form method="post" action="#">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="nom" class="form-label">Nom</label>
                        <input type="text" class="form-control" id="nom" name="nom" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Adresse Email</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="mb-3">
                        <label for="message" class="form-label">Votre message</label>
                        <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Envoyer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}